
<html>
<head>
<title>TIJN</title>

<script src="jquery-3.3.1.min.js"></script>

<script type="text/javascript">

// jQuery convention for running when the document has been fully loaded:
$(document).ready(() => {
  $('#readButton').click(() => {
    const requestURL = 'bank/' + $('#nameBox').val();
    console.log('making ajax request to:', requestURL);

    // From: http://learn.jquery.com/ajax/jquery-ajax-methods/
    // Using the core $.ajax() method since it's the most flexible.
    // ($.get() and $.getJSON() are nicer convenience functions)
    $.ajax({
      // all URLs are relative to http://localhost:3000/
      url: requestURL,
      type: 'GET',
      dataType : 'json', // this URL returns data in JSON format
      success: (data) => {
        console.log('You received some data!', data);

        if (data.name && data.id) {
          $('#status').html('Successfully fetched data at URL: ' + requestURL);
          $('#idDiv').html('Bank Name is ' + data.name);

        } else {
          $('#status').html('Error: could not find user at URL: ' + requestURL);
          // clear the display
          $('#idDiv').html('');

        }
      },
    });
  });

  $('#allBanksButton').click(() => {
    $.ajax({
      url: 'bankaccounts',
      type: 'GET',
      dataType : 'json',
      success: (data) => {
        console.log('You received some data!', data);
        $('#status').html('All banks: ' + data);
      },
    });
});

  $('#insertButton').click(() => {
    $.ajax({
      // all URLs are relative to http://localhost:3000/
      url: 'bank',
      type: 'POST', // <-- this is POST, not GET
      data: {
              name: $('#insertNameBox').val(),
              id: $('#insertIdBox').val()
            },
      success: (data) => {
        $('#status').html(data.message);
      }
    });
  });

  // define a generic Ajax error handler:
  // http://api.jquery.com/ajaxerror/
  $(document).ajaxError(() => {
    $('#status').html('Error: unknown ajaxError!');
  });
});
</script>

</head>
<body>
  <h1>Welcome to TIJN!</h1>

  Name: <input id="nameBox" type="text" size="20"/>
  <button id="readButton">Get User Bank</button>
  <button id="allBanksButton">Get all Banks</button>

  <div id="idDiv"></div>

  <hr/>
  Name: <input id="RnameBox" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="removeUserBank">Remove user bank</button>
  <hr/>

  <hr/>
  BankId: <input id="BankID"" type="text" size="20"/>
  BankNumber: <input id="BANumber" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="addUserBank">Add user bank</button>
  <hr/>

  <hr/>
  Phone: <input id="RPnameBox" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="removeUserPhone">Remove user phone</button>
  <hr/>

  <hr/>
  Phone: <input id="APnameBox" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="addUserPhone">Add user Phone</button>
  <hr/>

  <hr/>
  SSN: <input id="PhonenameBox" type="text" size="20"/>
  <button id="UserPhoneButton">Get user Phones</button>
  <hr/>

  <hr/>
  Email: <input id="REnameBox" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="removeUserPhone">Remove user email</button>
  <hr/>

  <hr/>
  Email: <input id="AEnameBox" type="text" size="20"/>
  SSN: <input id="SSNBox" type="text" size="20"/>
  <button id="addUserPhone">Add user email</button>
  <hr/>

  <hr/>
  Name: <input id="EmailnameBox" type="text" size="20"/>
  <button id="allUserPhoneButton">Get users email</button>

  <hr/>


  <hr/>
  Memo: <input id="insertMemoBx" type="text" size="20"/>
  SSN: <input id="insertSSNBx" type="text" size="20"/>
  Name: <input id="nameBx" type="text" size="20"/>
  Amount: <input id="AmountBx" type="text" size="20"/>

  <button id="SendButton">Send Money</button>

  <hr/>
  Memo: <input id="insertMemoBx" type="text" size="20"/>
  SSN: <input id="insertSSNBx" type="text" size="20"/>
  Name: <input id="nameBx" type="text" size="20"/>
  Amount: <input id="AmountBx" type="text" size="20"/>

  <button id="RecieveButton">Request Money</button>

  <hr/>
  Date1: <input id="Date1" type="text" size="20"/>
  Date2: <input id="Date2" type="text" size="20"/>
  <button id="RecieveButton">Search Ledger of Transactions by date</button>

  <hr/>

  <hr/>
  Account: <input id="SSNAccount" type="text" size="20"/>
  <button id="AccountButton">Search Ledger by Accoiunt</button>

  <hr/>

  <hr/>
  Transaction: <input id="Transaction" type="text" size="20"/>
  <button id="TransButton">Search Ledger by Transaction</button>

  <hr/>


  <hr/>
  Name: <input id="insertNameBox" type="text" size="20"/>
  SSN: <input id="insertSSNBox" type="text" size="20"/>
  Phone: <input id="insertPhoneBox" type="text" size="20"/>
  Email: <input id="insertEmailBox" type="text" size="20"/>
  Balance: <input id="insertBalanceBox" type="text" size="20"/>
  BankId: <input id="insertBankBox" type="text" size="20"/>
  BANumber: <input id="insertBankNumberBox" type="text" size="20"/>
  <button id="insertUsersButton">Insert into Users Users Table</button>
  <hr/>
  <div id ="status"></div>
</body>
</html>
